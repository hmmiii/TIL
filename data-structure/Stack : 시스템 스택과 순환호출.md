## 시스템 스택과 순환호출

### 시스템 스택

- 운영체제가 관리하는 메모리 공간에 스택이라는 영역이 존재한다.
- 이 영역은 함수의 호출과 반환에 사용된다.
- 스택에는 함수가 끝나고 돌아갈 복귀 주소, 호출된 함수에서 사용할 매개변수, 지역변수를 스택에 저장한다.
- 함수가 끝나면, 끝나고 돌아갈 복귀 주소로 돌아간다.
- main()에서 func()를 호출하고 func()에서 sub()를 호출한다면, sub()가 끝나면 func()로 돌아가고, func()가 끝나면 main()으로 돌아간다.
- 이 내용을 가지고 순환 호출로 넘어가자.

### 순환(재귀) 호출

- 순환 호출은 어떤 함수가 자기 자신을 호출하는 프로그래밍 기법이다.
- 자기 자신을 호출한다는 것이 이상하게 느껴질 수 있지만, 함수A가 함수B를 호출하는 것과 함수A가 함수A를 호출하는 것은 같은 원리이다.
- 함수A의 돌아갈 주소에 함수A를 두는 것 뿐이다.

#### 순환 호출로 팩토리얼 문제 해결하기

- 팩토리얼 문제는 반복문으로 해결할 수도 있지만, 순환 호출로 해결할 수도 있다.

##### 반복 구조로 해결한 팩토리얼

```python
def factorial_iter(n): # 반복 구조로 구현한 팩토리얼
    result = 1
    for k in range(2, n+1): # k:2, ..., n
        result = result * k # result에 k를 곱함.
    return result

print("반복 구조 팩토리얼 : ", end='')
print(factorial_iter(5))
```
##### 순환 호출로 해결한 팩토리얼

- 팩토리얼을 순환 호출로 해결하는 것은 가장 기본적인 순환 호출 방법이다.
- 팩토리얼은 1부터 n까지 차례로 곱하는데, 결국 (n-1)*n이 n!이라는 것을 그대로 옮기기만 해도 해결된다.

```python
def factorial(n): # 순환구조(재귀호출)로 구현한 팩토리얼.
    if n == 1:
        return 1 # 순환 호출을 멈추는 부분. n이 1이면 답을 알고 있음.
    else:
        return n * factorial(n-1) # 자신을 순환적으로 호출하는 부분. 문제의 크기는 작아져야 함.
    
print("순환 구조 팩토리얼 : ", end='')
print(factorial(5))
```

### 참고 도서

[자료구조와 알고리즘 with 파이썬](https://www.yes24.com/Product/Goods/123451810)